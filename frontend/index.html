<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AngularHelp — Build with AI</title>
    <meta name="description" content="Describe any Angular component and watch it get built by AI in seconds." />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet" />

    <!-- highlight.js for syntax highlighting -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <link rel="stylesheet" href="styles.css" />
</head>

<body>

    <!-- ═══════════════════════════════════ TOP NAV ═══════════════════════════ -->
    <nav class="topnav">
        <div class="topnav__brand">
            <div class="brand-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                    <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" fill="url(#bolt)" stroke="none" />
                    <defs>
                        <linearGradient id="bolt" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#6366f1" />
                            <stop offset="100%" stop-color="#06b6d4" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
            <span class="brand-name">AngularHelp</span>
            <span class="brand-badge">AI</span>
        </div>

        <div class="topnav__actions">
            <button class="btn-ghost" id="btnNewSession" title="Start a fresh session">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="1 4 1 10 7 10" />
                    <path d="M3.51 15a9 9 0 1 0 .49-3.51" />
                </svg>
                New Session
            </button>
            <div class="session-badge" id="sessionBadge">Session —</div>
        </div>
    </nav>

    <!-- ═══════════════════════════════════ MAIN LAYOUT ══════════════════════ -->
    <main class="layout" id="mainLayout">

        <!-- ──────────────────────── CENTER PANEL ─────────────────────────── -->
        <section class="center-panel" id="centerPanel">

            <!-- Hero — shown before first generation -->
            <div class="hero" id="hero">
                <div class="hero__eyebrow">
                    <span class="pulse-dot"></span>
                    AI-Powered Angular Generator
                </div>
                <h1 class="hero__title">What do you want<br />to <span class="hero__gradient">build today</span>?</h1>
                <p class="hero__sub">Describe any UI component. AngularHelp generates production-quality Angular code
                    instantly.</p>

                <div class="prompt-box" id="promptBoxHero">
                    <div class="prompt-box__inner">
                        <div class="prompt-box__icon">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="11" cy="11" r="8" />
                                <path d="m21 21-4.35-4.35" />
                            </svg>
                        </div>
                        <textarea id="mainPrompt" class="prompt-box__input"
                            placeholder="e.g. create a pricing card with a gradient border…" rows="1"
                            autofocus></textarea>
                        <button class="prompt-box__send" id="btnGenerate" title="Generate">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.2">
                                <line x1="22" y1="2" x2="11" y2="13" />
                                <polygon points="22 2 15 22 11 13 2 9 22 2" />
                            </svg>
                        </button>
                    </div>
                    <div class="prompt-box__hints">
                        <span class="hint-pill" data-prompt="create a login page">Login Page</span>
                        <span class="hint-pill" data-prompt="build a pricing card with 3 tiers">Pricing Card</span>
                        <span class="hint-pill" data-prompt="design a dashboard stats widget">Stats Widget</span>
                        <span class="hint-pill" data-prompt="create an animated loading skeleton">Loading
                            Skeleton</span>
                    </div>
                </div>
            </div>

            <!-- Result Panel — shown after generation -->
            <div class="result-panel hidden" id="resultPanel">

                <!-- Breadcrumb / Component title -->
                <div class="result-header">
                    <div class="result-header__left">
                        <div class="component-pill" id="componentNamePill">
                            <span class="component-pill__dot"></span>
                            <span id="componentNameLabel">component-name</span>
                        </div>
                        <span class="validation-badge" id="validationBadge">✅ passed</span>
                    </div>
                    <div class="result-header__right">
                        <!-- Tab switchers -->
                        <div class="tab-group" id="tabGroup">
                            <button class="tab-btn active" data-tab="code" id="tabCode">
                                <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.2">
                                    <polyline points="16 18 22 12 16 6" />
                                    <polyline points="8 6 2 12 8 18" />
                                </svg>
                                Code
                            </button>
                            <button class="tab-btn" data-tab="preview" id="tabPreview">
                                <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.2">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                    <circle cx="12" cy="12" r="3" />
                                </svg>
                                Preview
                            </button>
                        </div>
                    </div>
                </div>

                <!-- CODE TAB -->
                <div class="tab-content" id="tabContentCode">
                    <div class="code-tabs">
                        <button class="code-sub-tab active" data-codetab="ts">TypeScript</button>
                        <button class="code-sub-tab" data-codetab="html">HTML</button>
                        <button class="code-sub-tab" data-codetab="scss">SCSS</button>
                        <button class="btn-copy" id="btnCopy" title="Copy to clipboard">
                            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" />
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
                            </svg>
                            Copy
                        </button>
                    </div>
                    <div class="code-viewer" id="codeViewer">
                        <pre><code id="codeBlock" class="language-typescript"></code></pre>
                    </div>
                </div>

                <!-- PREVIEW TAB -->
                <div class="tab-content hidden" id="tabContentPreview">
                    <div class="preview-toolbar">
                        <div class="preview-toolbar__left">
                            <span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span>
                        </div>
                        <div class="preview-toolbar__url" id="previewUrl">preview://component</div>
                        <button class="btn-ghost btn-sm" id="btnOpenPreview">
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6" />
                                <polyline points="15 3 21 3 21 9" />
                                <line x1="10" y1="14" x2="21" y2="3" />
                            </svg>
                            Open
                        </button>
                    </div>
                    <iframe id="previewFrame" class="preview-iframe" title="Component preview"></iframe>
                </div>

                <!-- Follow-up quick prompt (bottom of result) -->
                <div class="followup-bar">
                    <div class="prompt-box prompt-box--sm">
                        <div class="prompt-box__inner">
                            <div class="prompt-box__icon">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M12 20h9" />
                                    <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z" />
                                </svg>
                            </div>
                            <textarea id="followupPrompt" class="prompt-box__input"
                                placeholder="Refine this component… e.g. " add a dark mode toggle"" rows="1"></textarea>
                            <button class="prompt-box__send" id="btnFollowup" title="Apply changes">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2.2">
                                    <line x1="22" y1="2" x2="11" y2="13" />
                                    <polygon points="22 2 15 22 11 13 2 9 22 2" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <!-- ──────────────────────── RIGHT CHAT PANEL ─────────────────────── -->
        <aside class="chat-panel hidden" id="chatPanel">
            <div class="chat-panel__header">
                <div class="chat-panel__title">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                    </svg>
                    Build History
                </div>
                <button class="btn-ghost btn-sm" id="btnClearChat">Clear</button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <!-- Chat entries injected by JS -->
            </div>

            <div class="chat-input-area">
                <div class="chat-input-box">
                    <textarea id="chatPrompt" class="chat-input-box__textarea"
                        placeholder="Add a new component or refine existing…" rows="2"></textarea>
                    <button class="chat-input-box__send" id="btnChatSend" title="Send">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.2">
                            <line x1="22" y1="2" x2="11" y2="13" />
                            <polygon points="22 2 15 22 11 13 2 9 22 2" />
                        </svg>
                    </button>
                </div>
            </div>
        </aside>

    </main>

    <!-- ═══════════════════════════════════ LOADING OVERLAY ══════════════════ -->
    <div class="loading-overlay hidden" id="loadingOverlay">
        <div class="loading-card">
            <div class="spinner"></div>
            <div class="loading-card__text" id="loadingText">Thinking…</div>
            <div class="loading-card__sub">AngularHelp is generating your component</div>
        </div>
    </div>

    <!-- ═══════════════════════════════════ TOAST ════════════════════════════ -->
    <div class="toast hidden" id="toast"></div>

    <script src="app.js"></script>
</body>

</html>